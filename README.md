# nxus-feedreader

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### 

## Feed Reader Module

[![Build Status](https://travis-ci.org/nxus/feedreader.svg?branch=master)](https://travis-ci.org/nxus/feedreader)

Use feedparser to parse and process RSS/Atom feeds.

### Installation

    > npm install nxus-feedreader --save

### Configuration Options

    "feedreader": {
      "interval": 0 // seconds
      "enableQueues": false
      "feeds"": {
         name: URL
      }
    }

### Usage

#### Register a feed

For each feed to process, register its URL with a identifying name

    import {feedreader} from 'nxus-feedreader'

    feedreader.feed("my-feed", "https://www....")

#### Process new/updated items

See the [feedreader docs](https://github.com/danmactough/node-feedparser#list-of-article-properties) for item fields.

    import {feedreader} from 'nxus-feedreader'

    feedreader.process("my-feed", (item, meta, ident) => {
      // item and meta are from feedreader, ident is 'my-feed'   
    })

You may also process all incoming items regardless of feed

    feedreader.process((item, ident) => { })

#### Fetch feed contents for processing

If `interval` config is defined (in seconds), feed will automatically be fetched that often. You may manually
request a fetch (e.g. on startup or from a user action) by calling `fetch`

    feedreader.fetch()

#### Run fetch and processing in background worker queues

If you would like fetching and processing to happen in the background, set the `enableQueues` config or
during initialization call:

    feedreader.enableQueues()

## API

* * *

### FeedReader

**Extends NxusModule**

Feedreader module for parsing and processing RSS/Atom Feeds

#### feed

Register a feed

**Parameters**

-   `ident` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** identifier for this feed
-   `url` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** feed URL
-   `options` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** tbd (optional, default `{}`)

#### process

Process feed items

**Parameters**

-   `ident` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** identifier for this feed
-   `handler` **[function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** (item, ident) handler function (optional, default `null`)

#### fetch

Fetch one or all feeds

**Parameters**

-   `ident` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** identifier for this feed

#### enableQueues

Enable queue processing
